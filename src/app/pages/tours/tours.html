<app-navbar></app-navbar>

<!-- HERO -->
<section class="relative">
  <div class="absolute inset-0">
    <img
      class="h-full w-full object-cover"
      src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=1600&q=80"
      alt="Tours hero"
    />
    <div class="absolute inset-0 bg-black/55"></div>
  </div>

  <div class="relative max-w-6xl mx-auto px-6 py-16 md:py-24">
    <h1 class="text-white text-4xl md:text-5xl font-extrabold leading-tight">
      Find your next adventure
    </h1>
    <p class="text-white/85 mt-3 max-w-2xl">
      Handpicked tours with great stays, local experiences, and flexible plans.
    </p>

    <!-- Search / Filters -->
    <div class="mt-8 bg-white/95 backdrop-blur rounded-2xl p-4 md:p-5 shadow-lg">
      <div class="grid grid-cols-1 md:grid-cols-12 gap-3">
        <div class="md:col-span-5">
          <label class="text-sm font-medium text-gray-700">Search</label>
          <input
            [(ngModel)]="query"
            type="text"
            placeholder="Search destination…"
            class="mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 outline-none focus:ring-2 focus:ring-black/10"
          />
        </div>

        <div class="md:col-span-3">
          <label class="text-sm font-medium text-gray-700">Max price</label>
          <select
            [(ngModel)]="maxPrice"
            class="mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 outline-none focus:ring-2 focus:ring-black/10"
          >
            <option [ngValue]="null">Any</option>
            <option [ngValue]="500">Under $500</option>
            <option [ngValue]="700">Under $700</option>
            <option [ngValue]="1000">Under $1000</option>
          </select>
        </div>

        <div class="md:col-span-3">
          <label class="text-sm font-medium text-gray-700">Sort by</label>
          <select
            [(ngModel)]="sortBy"
            class="mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 outline-none focus:ring-2 focus:ring-black/10"
          >
            <option value="popular">Popular</option>
            <option value="priceAsc">Price: low → high</option>
            <option value="priceDesc">Price: high → low</option>
            <option value="daysDesc">Duration: long → short</option>
          </select>
        </div>

        <div class="md:col-span-1 flex items-end">
          <button
            type="button"
            (click)="resetFilters()"
            class="w-full rounded-xl border border-gray-200 px-3 py-2 text-sm hover:bg-gray-50"
          >
            Reset
          </button>
        </div>
      </div>

      <div class="mt-3 flex flex-wrap items-center gap-2 text-sm text-gray-600">
        <span class="px-2 py-1 rounded-lg bg-gray-100">
          Showing: <b class="text-gray-900">{{ filteredDestinations.length }}</b>
        </span>
        <span class="px-2 py-1 rounded-lg bg-gray-100">
          Query: <b class="text-gray-900">{{ query || '—' }}</b>
        </span>
        <span class="px-2 py-1 rounded-lg bg-gray-100">
          Max: <b class="text-gray-900">{{ maxPrice ?? 'Any' }}</b>
        </span>
      </div>
    </div>
  </div>
</section>

<!-- TOURS GRID -->
<section class="max-w-6xl mx-auto px-6 py-12">
  <div class="flex items-end justify-between gap-4">
    <div>
      <h2 class="text-2xl font-bold">Available tours</h2>
      <p class="text-gray-600 mt-1">Best value packages for every style of traveler.</p>
    </div>

    <button
      type="button"
      class="hidden sm:inline-flex items-center gap-2 rounded-xl bg-black text-white px-4 py-2 text-sm hover:opacity-90"
    >
      Customize a trip
    </button>
  </div>

  <!-- Empty state -->
  <div
    *ngIf="filteredDestinations.length === 0"
    class="mt-8 rounded-2xl border border-gray-200 p-8 text-center"
  >
    <h3 class="font-semibold text-lg">No tours match your filters</h3>
    <p class="text-gray-600 mt-1">Try clearing search or increasing max price.</p>
    <button
      type="button"
      (click)="resetFilters()"
      class="mt-4 inline-flex rounded-xl bg-black text-white px-4 py-2 text-sm hover:opacity-90"
    >
      Reset filters
    </button>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
    <z-card
      *ngFor="let d of filteredDestinations; trackBy: trackByName"
      class="overflow-hidden rounded-2xl"
    >
      <!-- Image -->
      <div class="relative aspect-[16/10]">
        <img [src]="d.image" [alt]="d.name" class="h-full w-full object-cover" loading="lazy" />
        <div
          class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/15 to-transparent"
        ></div>

        <div class="absolute left-4 right-4 bottom-4">
          <div class="flex items-start justify-between gap-3">
            <div>
              <h3 class="text-white font-bold text-lg">{{ d.name }}</h3>
              <p class="text-white/80 text-sm">{{ d.tagline }}</p>
            </div>

            <div class="shrink-0 text-right">
              <p class="text-white/70 text-xs">From</p>
              <p class="text-white font-extrabold text-lg">${{ d.priceFrom }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Details -->
      <div class="p-4">
        <div class="flex flex-wrap items-center gap-2 text-xs">
          <span class="px-2 py-1 rounded-lg bg-gray-100 text-gray-700"> {{ d.days }} days </span>
          <span class="px-2 py-1 rounded-lg bg-gray-100 text-gray-700"> Hotel + Activities </span>
          <span class="px-2 py-1 rounded-lg bg-gray-100 text-gray-700"> Free cancellation </span>
        </div>

        <div class="mt-4 flex items-center justify-between gap-3">
          <button
            type="button"
            class="flex-1 rounded-xl border border-gray-200 px-4 py-2 text-sm hover:bg-gray-50"
          >
            View details
          </button>

          <button
            type="button"
            class="flex-1 rounded-xl bg-black text-white px-4 py-2 text-sm hover:opacity-90"
          >
            Book now
          </button>
        </div>
      </div>
    </z-card>
  </div>
</section>

<!-- WHY BOOK -->
<section class="bg-gray-50">
  <div class="max-w-6xl mx-auto px-6 py-12">
    <h2 class="text-2xl font-bold">Why book with us</h2>
    <p class="text-gray-600 mt-1">Simple, transparent, and traveler-first.</p>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
      <div class="rounded-2xl border border-gray-200 bg-white p-6">
        <h3 class="font-semibold">Best price guarantee</h3>
        <p class="text-gray-600 mt-2 text-sm">
          Curated packages and seasonal deals with no hidden fees.
        </p>
      </div>

      <div class="rounded-2xl border border-gray-200 bg-white p-6">
        <h3 class="font-semibold">Trusted experiences</h3>
        <p class="text-gray-600 mt-2 text-sm">
          Top-rated stays and local activities selected by our team.
        </p>
      </div>

      <div class="rounded-2xl border border-gray-200 bg-white p-6">
        <h3 class="font-semibold">Flexible plans</h3>
        <p class="text-gray-600 mt-2 text-sm">
          Change dates easily and enjoy flexible cancellation options.
        </p>
      </div>
    </div>
  </div>
</section>
